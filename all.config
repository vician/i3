# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec gnome-terminal
bindsym $mod+Shift+Return exec terminator
bindsym $mod+KP_Enter exec gnome-terminal
bindsym $mod+Shift+KP_Enter exec terminator

# kill focused window
bindsym $mod+Shift+q kill
bindsym --release button2 kill

# start dmenu (a program launcher)
#bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# cycle workspace
bindsym $mod+control+h workspace prev
bindsym $mod+control+l workspace next

# alternatively, you can use the cursor keys:
bindsym $mod+control+Left workspace prev
bindsym $mod+control+Right workspace next

# split in horizontal orientation
bindsym $mod+b split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

#keepass
set $w0 `p
#web
set $w1 1w
#terms
set $w2 2t
set $w3 3t
set $w4 4t
set $w5 5t
set $w6 6t
#chat
set $w7 7c
#mail
set $w8 8m
#notes
set $w9 9n
#personal at work
set $w10 10p
#second work or work at home
set $w11 -
#media
set $w12 =d

# OutputDefiniton
#set $min LVDS1
#set $mex HDMI3 

workspace $w0 output $min
workspace $w1 output $mex
workspace $w2 output $mex
workspace $w3 output $mex
workspace $w4 output $mex
workspace $w5 output $mex
workspace $w6 output $mex
workspace $w7 output $min
workspace $w8 output $mex
workspace $w9 output $min
workspace $w10 output $mex
workspace $w11 output $mex
workspace $w12 output $min

# switch to workspace
bindsym $mod+grave workspace $w0
bindsym $mod+1 workspace $w1
bindsym $mod+2 workspace $w2
bindsym $mod+3 workspace $w3
bindsym $mod+4 workspace $w4
bindsym $mod+5 workspace $w5
bindsym $mod+6 workspace $w6
bindsym $mod+7 workspace $w7
bindsym $mod+8 workspace $w8
bindsym $mod+9 workspace $w9
bindsym $mod+0 workspace $w10
bindsym $mod+minus workspace $w11
bindsym $mod+equal workspace $w12
# numeric keyboard
#bindsym $mod+KP_Delete workspace $w0
bindsym $mod+KP_1 workspace $w1
bindsym $mod+KP_2 workspace $w2
bindsym $mod+KP_3 workspace $w3
bindsym $mod+KP_4 workspace $w4
bindsym $mod+KP_5 workspace $w5
bindsym $mod+KP_6 workspace $w6
bindsym $mod+KP_7 workspace $w7
bindsym $mod+KP_8 workspace $w8
bindsym $mod+KP_9 workspace $w9
bindsym $mod+KP_0 workspace $w10

# move focused container to workspace
bindsym $mod+Shift+grave move container to workspace $w0
bindsym $mod+Shift+1 move container to workspace $w1
bindsym $mod+Shift+2 move container to workspace $w2
bindsym $mod+Shift+3 move container to workspace $w3
bindsym $mod+Shift+4 move container to workspace $w4
bindsym $mod+Shift+5 move container to workspace $w5
bindsym $mod+Shift+6 move container to workspace $w6
bindsym $mod+Shift+7 move container to workspace $w7
bindsym $mod+Shift+8 move container to workspace $w8
bindsym $mod+Shift+9 move container to workspace $w9
bindsym $mod+Shift+0 move container to workspace $w10
bindsym $mod+Shift+minus move container to workspace $w11
bindsym $mod+Shift+equal move container to workspace $w12
# numeric keyboard
bindsym $mod+Shift+KP_Delete move container to workspace $w0
bindsym $mod+Shift+KP_1 move container to workspace $w1
bindsym $mod+Shift+KP_2 move container to workspace $w2
bindsym $mod+Shift+KP_3 move container to workspace $w3
bindsym $mod+Shift+KP_4 move container to workspace $w4
bindsym $mod+Shift+KP_5 move container to workspace $w5
bindsym $mod+Shift+KP_6 move container to workspace $w6
bindsym $mod+Shift+KP_7 move container to workspace $w7
bindsym $mod+Shift+KP_8 move container to workspace $w8
bindsym $mod+Shift+KP_9 move container to workspace $w9
bindsym $mod+Shift+KP_0 move container to workspace $w10
# move defined workspace to different left output
bindsym $mod+Control+grave workspace $w0; move workspace to output left
bindsym $mod+Control+1 workspace $w1; move workspace to output left
bindsym $mod+Control+2 workspace $w2; move workspace to output left
bindsym $mod+Control+3 workspace $w3; move workspace to output left
bindsym $mod+Control+4 workspace $w4; move workspace to output left
bindsym $mod+Control+5 workspace $w5; move workspace to output left
bindsym $mod+Control+6 workspace $w6; move workspace to output left
bindsym $mod+Control+7 workspace $w7; move workspace to output left
bindsym $mod+Control+8 workspace $w8; move workspace to output left
bindsym $mod+Control+9 workspace $w9; move workspace to output left
bindsym $mod+Control+0 workspace $w10; move workspace to output left
bindsym $mod+Control+minus workspace $w11; move workspace to output left
bindsym $mod+Control+equal workspace $w12; move workspace to output left
# numeric
bindsym $mod+Control+KP_1 workspace $w1; move workspace to output left
bindsym $mod+Control+KP_2 workspace $w2; move workspace to output left
bindsym $mod+Control+KP_3 workspace $w3; move workspace to output left
bindsym $mod+Control+KP_4 workspace $w4; move workspace to output left
bindsym $mod+Control+KP_5 workspace $w5; move workspace to output left
bindsym $mod+Control+KP_6 workspace $w6; move workspace to output left
bindsym $mod+Control+KP_7 workspace $w7; move workspace to output left
bindsym $mod+Control+KP_8 workspace $w8; move workspace to output left
bindsym $mod+Control+KP_9 workspace $w9; move workspace to output left
bindsym $mod+Control+KP_0 workspace $w10; move workspace to output left

assign [class="Pidgin"] $w7
assign [class="YakYak"] $w7
assign [class="Smuxi"] $w7
assign [class="Thunderbird"] $w8
assign [class="Evolution"] $w8
assign [class="KeePass"] $w0
assign [class="Spotify"] $w12
#assign [class="Chromium"] $w1

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# Move window to left monitor
bindsym $mod+Shift+o move workspace to output left
bindsym $mod+Shift+p move workspace to output right

# resize window (you can also use the mouse for that)
mode "resize" {
	# These bindings trigger as soon as you enter the resize mode

	# Pressing left will shrink the window’s width.
	# Pressing right will grow the window’s width.
	# Pressing up will shrink the window’s height.
	# Pressing down will grow the window’s height.
	bindsym h resize shrink width 10 px or 10 ppt
	bindsym j resize grow height 10 px or 10 ppt
	bindsym k resize shrink height 10 px or 10 ppt
	bindsym l resize grow width 10 px or 10 ppt

	# same bindings, but for the arrow keys
	bindsym Left resize shrink width 10 px or 10 ppt
	bindsym Right resize grow width 10 px or 10 ppt
	bindsym Down resize grow height 10 px or 10 ppt
	bindsym Up resize shrink height 10 px or 10 ppt


	# back to normal: Enter or Escape
	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

mode "player" {
	bindsym s exec "echo spotify > ~/.i3/player ; i3-msg mode default" exec pkill -SIGRTMIN+11 i3blocks
	bindsym v exec "echo vlc > ~/.i3/player ; i3-msg mode default" exec pkill -SIGRTMIN+11 i3blocks
	bindsym g exec "echo gnome-mplayer > ~/.i3/player ; i3-msg mode default" exec pkill -SIGRTMIN+11 i3blocks

	# back to normal: Enter or Escape
	bindsym Return mode "default" exec pkill -SIGRTMIN+11 i3blocks
	bindsym Escape mode "default" exec pkill -SIGRTMIN+11 i3blocks
}

bindsym $mod+u mode "player"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
  # TrayOutput
	#tray_output $mex
	tray_output primary
	position top
	status_command i3blocks -c ~/.i3/i3blocks.conf
}

# Lock
bindsym $mod+c exec ~/.i3/lock.sh
#bindsym $mod+c exec i3lock -e --color 000000
# PlayPause Spostify
bindsym $mod+p exec ~/.i3/player-control toggle
bindsym $mod+n exec ~/.i3/player-control next
bindsym $mod+Shift+n exec ~/.i3/player-control prev

# window on all workspaces
bindsym $mod+Shift+w sticky toggle
# remove a floating window from scratchpad
bindsym $mod+x floating enable
bindsym $mod+Shift+x floating disable

# Scratchpad
bindsym $mod+period scratchpad show
bindsym $mod+Shift+period move scratchpad
#bindsym $mod+minus scratchpad show
#bindsym $mod+Shift+minus move scratchpad

# Multimedia keys
bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '3%+'" exec pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '3%-'" exec pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioMute exec "amixer -D pulse set Master toggle" exec pkill -SIGRTMIN+10 i3blocks
bindsym XF86Display exec "arandr"
bindsym XF86TouchpadToggle exec ~/.i3/touchpad.sh
bindsym XF86MonBrightnessUp exec xbacklight -inc 20 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 20 # decrease screen brightness
bindsym XF86AudioPlay exec ~/.i3/player-control toggle
bindsym XF86AudioPause exec ~/.i3/player-control toggle
bindsym XF86AudioNext exec ~/.i3/player-control next
bindsym XF86AudioPrev exec ~/.i3/player-control prev
bindsym XF86AudioStop exec ~/.i3/player-control stop
# Volume numeric 
bindsym $mod+KP_Add exec "amixer -D pulse sset Master '3%+'" exec pkill -SIGRTMIN+10 i3blocks
bindsym $mod+KP_Subtract exec "amixer -D pulse sset Master '3%-'" exec pkill -SIGRTMIN+10 i3blocks
bindsym $mod+KP_Multiply exec "amixer -D pulse set Master toggle" exec pkill -SIGRTMIN+10 i3blocks

bindsym $mod+Shift+t exec ~/.i3/touchpad.sh

# Switch via ALT+TAB
bindsym Mod1+Tab focus right
bindsym Mod1+Shift+Tab focus left

# The middle button and a modifer over any part of the window kills the window
bindsym --whole-window $mod+button2 kill

# The right button toggles floating
bindsym button3 floating toggle
bindsym $mod+button3 floating toggle

# The side buttons move the window around
bindsym button9 move left
bindsym button8 move right

# Switch keyboard layouts - Doesn't work!!!
exec_always setxkbmap -layout us,cz -variant ',qwerty' -option 'grp:alt_caps_toggle'
#exec_always setxkbmap -layout us,cz
#exec_always setxkbmap -option 'grp:alt_caps_toggle'
#exec_always setxkbmap -variant ',qwerty'
#bindsym --release Alt_L+Caps_Lock exec pkill -SIGRTMIN+12 i3blocks

# Autostart applications
exec pgrep nm-applet > /dev/null || (nm-applet &)
exec pgrep xautolock > /dev/null || (xautolock -time 10 -locker '~/.i3/lock.sh' &)
exec xset dpms 600
exec pgrep owncloud > /dev/null || (owncloud &)
exec_always pgrep insync > /dev/null || (insync start &)

# Remove title bar for all new windows
new_window normal

bindsym $mod+d exec rofi -show run -sidebar-mode -lines 0
bindsym $mod+Shift+d exec rofi -show ssh -sidebar-mode -lines 0
bindsym $mod+Tab exec rofi -show window -sidebar-mode -lines 0
#exec rofi -key-run SuperL+d -key-window Alt+Tab
bindsym $mod+Shift+Tab exec ~/Documents/src/i3scripts/i3_switch_workspace.sh

bindsym $mod+Control+Tab workspace back_and_forth

bindsym Print exec gnome-screenshot

exec killall -q notify-osd
exec dunst -config ~/.i3/dunstrc

exec_always feh --bg-scale ~/Pictures/background.jpg

#exec_always ~/.i3/yubi/yubilock.sh
exec_always ~/.i3/monitor-hotplug.sh noreload
exec_always pgrep udevadm > /dev/null || udevadm monitor --property &

exec gpg-agent
exec seahorse-daemon
exec numlockx on
